以下是整理后的 **C# 编程指南** 类型转换部分：

---

# C# 编程指南

## 版权信息

© 2024. 未经许可不得复制、修改或分发。此文献为 [小風的藏書閣](https://t.me/xfp2333) 所有。

---

## 1. 类型转换

- `C#` 中的类型转换规则与 `C/C++` 基本相同。
- 类型转换分为 **隐式转换** 和 **显式转换**。

### 1.1 隐式转换
- **隐式转换**（Implicit Conversion）发生在类型之间没有丢失数据的情况下。例如，从较小的数值类型（如 `int`）转换为较大的数值类型（如 `long`）是隐式转换。
- 不需要显式的强制转换符。

#### 示例：
```c#
int num1 = 123;
long num2 = num1;  // 隐式转换
```

### 1.2 显式转换
- **显式转换**（Explicit Conversion）发生在可能丢失数据或需要更精确的转换时。需要使用强制转换符 `(type)` 来进行转换。
- 常见的显式转换有 **类型转换符** 和 **`Convert` 类**。

#### 示例：
```c#
double num1 = 9.8;
int num2 = (int)num1;  // 显式转换，将浮点数转换为整数，结果为 9
```

#### 使用 `Convert` 类：
```c#
string str = "123";
int num = Convert.ToInt32(str);  // 使用 Convert 类将字符串转换为整数
```

### 1.3 类型转换注意事项
- 当进行 **显式转换** 时，必须小心数据的丢失，特别是在从浮点数转为整数，或者从大范围整数转为小范围整数时。
- **溢出**：某些转换可能导致溢出，`C#` 提供了 `checked` 和 `unchecked` 关键字来控制溢出的行为。

#### 示例：
```c#
int maxValue = int.MaxValue;
int overflowValue = checked(maxValue + 1);  // 抛出溢出异常
```

---

## 2. 总结
- **隐式转换**：适用于类型之间的安全转换，不会丢失数据。
- **显式转换**：需要开发者明确转换，可能会导致数据丢失。
- **类型转换类**：`Convert` 类提供了转换的标准方法，尤其适用于字符串和数字类型之间的转换。

---

如果有任何问题或需要更多示例，随时与我联系！